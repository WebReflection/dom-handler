/*! (C) WebReflection Mit Style License */
define(function(){"use strict";function f(e){return typeof e=="string"?document.querySelector(e):e}function l(e){return this[e.type](e)}function c(e){var t=e.type,n=t+s,r,i,u,a;if(n in this){for(r=o.concat(this[n]),i=e.target,u=0,a=i?r.length:0;u<a;u++)i.matches(r[u])&&(a=-1);if(-1<a)return}return l.call(this,e)}function h(e){e.currentTarget[i+n](e.type,this,e.eventPhase===e.CAPTURING_PHASE)}function p(r,i,o){var f=i[r+n],l;for(l in o)l!==e&&l!==t&&u.test(l)&&typeof o[l]=="function"&&(a||(a=l+s in o),f.call(i,l,o,!!o[l+"Capture"]))}var e="handleEvent",t="releaseEvent",n="EventListener",r="add",i="remove",s="Target",o=Array.prototype,u=/^[a-z]/i,a;return{add:function(i,s){return a=!1,p(r,f(i),s),e in s||(s.handleEvent=a?c:l),t in s||(s.releaseEvent=h),i},remove:function(t,n){return a=!0,p(i,f(t),n),t}}});